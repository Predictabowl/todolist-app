<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>


	<!-- 	NAVBAR BULMA -->
	<div th:fragment="BNavbar (username)">
		<nav class="navbar has-background-dark"	aria-label="main navigation bar">
			<div class="navbar-brand">
				<a href="" class="navbar-item title is-4 has-text-light"
					th:text="#{appname}"> </a>
			</div>
			<div class="navbar-menu is-active">
				<div class="navbar-start">
					<div class="navbar-item">
						<a class="icon has-text-primary" id="sidebar-button">
							<i class="fas fa-bars"></i>
						</a>
					</div>
					<div class="navbar-item">
						<a class="icon has-text-primary" th:title="#{new.project}">
							<i class="fas fa-plus"></i>
						</a>
					</div>
					<div class="navbar-item has-dropdown is-hoverable">
						<a class="navbar-link has-text-primary" th:text="#{projects}"></a>
						<div class="navbar-dropdown">
							<a th:href="@{/}" class="navbar-item" th:text="#{list}"></a> <a
								href="#" id="open-project-card" class="navbar-item" th:text="#{new}"></a>
						</div>
					</div>
				</div>
				<div class="navbar-end">
					<div class="navbar-item has-dropdown is-hoverable">
						<a class="navbar-link has-text-primary"> <i
							class="fa-solid fa-2x fa-language"></i>
						</a>
						<div class="navbar-dropdown">
							<a class="navbar-item" th:href="@{''(lang=en)}">English</a>
							<a class="navbar-item" th:href="@{''(lang=it)}">Italiano</a>
						</div>
					</div>
					<div class="navbar-item">
						<div class="navbar-item has-dropdown is-hoverable">
							<a class="navbar-link has-text-primary" th:text="${username}"></a>
							<div class="navbar-dropdown">
								<a class="navbar-item" id="logout-link">
									<i class="fa-solid fa-arrow-right-from-bracket"></i>
									<span class="ml-1" th:text="#{logout}"></span>								
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</nav>

		<form th:action="@{/logout}" id="logout-form" method="post"></form>

		<script type="text/javascript">
			$("#logout-link").click(function() {
				$("#logout-form").submit();
			});
		</script>
	</div>
	
	<!-- INPUT TEXT WITH OBJECT FIELDS REFERENCED AND ERROR DISPLAY -->
	<div th:fragment="inputWithField (fieldName, placeHolder, inputType)">
		<input th:class="'input is-rounded ' +${#fields.hasErrors(fieldName) ? 'is-danger' : 'is-success'}" th:type="${inputType}"
			th:placeholder="${placeHolder}" th:field="*{__${fieldName}__}"/>
		<label class="help is-danger"	th:if="${#fields.hasErrors(fieldName)}" th:id="'input-helper-'+${fieldName}" 
			th:errors="*{__${fieldName}__}"></label>
	</div>
	
		<!-- Add icon on the left of the input field -->
	<div th:fragment="inputFieldWithIcon (fieldName, placeHolder, inputType, iconClass)">
		<div class="control has-icons-left">
			<div th:insert="~{::inputWithField(__${fieldName}__, __${placeHolder}__, __${inputType}__)}"></div>
	    	<span class="icon is-small is-left">
				<i th:class="'fas ' +${iconClass}"></i>
			</span>
		</div>
	</div>

</body>
</html>